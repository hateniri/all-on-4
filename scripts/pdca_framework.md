# PDCAサイクル自動化フレームワーク

## 概要
GitHub ActionsとClaude APIを活用した、コンテンツ自動更新システム

## Plan Phase（計画・分析）
```python
# analyze_trends.py の主な機能
- Google Trends APIでキーワード人気度を取得
- 競合サイトのコンテンツ分析
- ユーザー検索クエリの収集
- 優先度スコアの計算
```

### 分析対象キーワード例
- "All-on-4 費用"
- "オールオン4 失敗"
- "インプラント 即日"
- "ジルコニア 歯科"
- "インプラント メンテナンス"

## Do Phase（実行・生成）
```python
# generate_content.py の主な機能
- Claude APIを使用した新規記事生成
- 既存記事の更新・改善
- FAQの追加生成
- 病院レビューの更新
```

### コンテンツ生成ルール
1. 優先度スコア > 80: 新規記事を生成
2. 優先度スコア 50-80: 既存記事を更新
3. 優先度スコア < 50: 内部リンクのみ調整

## Check Phase（評価・測定）
```python
# check_performance.py の主な機能
- Google Analytics APIでPVデータ取得
- ページ滞在時間の分析
- 直帰率のチェック
- コンバージョン率の測定
```

### KPI設定
- 週間PV目標: 10,000PV
- 平均滞在時間: 3分以上
- 直帰率: 50%以下
- お問い合わせ率: 2%以上

## Act Phase（改善・実装）
```python
# update_site.py の主な機能
- トップページの人気記事ランキング更新
- サイドバーの関連記事リンク最適化
- サイトマップの自動更新
- 内部リンク構造の改善
```

### 更新対象
1. `/index.html` - 人気記事セクション
2. `/sitemap.xml` - 新規ページの追加
3. `/data/popular.yaml` - 人気コンテンツデータ
4. 各記事の関連リンクセクション

## 実行スケジュール
- 毎週月曜日 AM 9:00 (JST) 自動実行
- 緊急時は手動実行も可能
- 実行時間: 約15-20分

## 必要な環境変数
```yaml
ANTHROPIC_API_KEY: Claude API用
GOOGLE_TRENDS_API: トレンド分析用
ANALYTICS_API: アクセス解析用
GITHUB_TOKEN: 自動コミット用
```

## エラーハンドリング
- API制限エラー: 1分待機後リトライ（最大3回）
- コンテンツ生成エラー: 該当記事をスキップして続行
- コミットエラー: 管理者にメール通知

## 成功指標
- 自動更新成功率: 95%以上
- コンテンツ品質スコア: 80点以上
- SEO改善率: 月間10%向上